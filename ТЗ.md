## 1.Цель проекта
**Создать MVP Версия 1.0 (MVP — минимально жизнеспособный продукт)**
Создать базовый прототип интернета-магазин кроссовок. 
Клиенты – люди и группы людей которые хотят купить качественные кроссовки. Клиенты сами забирают товары в магазинах предварительно купив их. Суть в том что клиенты могут посмотреть информацию о кроссовках и приобрести товар максимально быстро без лишних заморочек. 
## 2. Бизнес требования
### 2.1 Функционал пользователей
![[image 20250616183803.png]]
#### 2.1.1 Регистрация пользователя
- **Минимальные данные для регистрации:**
    - Обязательные:
        - Email (уникальный, валидация формата `user@domain.com`)
        - Пароль (мин. 8 символов, требование к сложности: цифры + буквы)
    - Опциональные (можно дополнить при дополнении прототипа):
        - Телефон (формат `+7 XXX XXX-XX-XX`)
        - Пол (`male`/`female`)
        - Дата рождения (для проверки возраста 18+)
        - Паспортные данные (серия и номер для доставки)
- **Процесс регистрации:**
    1. Ввод email → проверка на уникальность → отправка кода подтверждения.
    2. Ввод пароля → подтверждение пароля.
    3. После успешной регистрации – автоматический вход в систему.
- **Валидация данных:**
    - Запрещены временные email-адреса (например, `@temp-mail.org`).
    - При вводе паспортных данных – маска `XXXX XXXXXX` (4 цифры + пробел + 6 цифр).
#### 2.1.2 Аутнтификация (вход в систему)
- **Способы входа:**
    - По email + пароль.
- **Сессии:**
    - Автоматический выход после 30 дней неактивности.
    - Возможность "запомнить меня" (долгая сессия на 90 дней).
#### 2.1.3 Безопасность
- **Хранение паролей:**
    - Хеширование `bcrypt`/`scrypt` + "соль".
- **Персональные данные:**
    - Паспортные данные шифруются (AES-256).
#### 2.1.4 Дополнительные сценарии
- **Гостевая корзина:**
    - Незарегистрированный пользователь может добавлять товары в корзину, но оформление заказа требует регистрации.
- Автоматическая деактивация(в перспектике):
    - Аккаунты без заказов >1 год помечаются как неактивные.
### 2.2 Каталог
#### 2.2.1 Структура каталога**
![[Pasted image 20250616181544.png]]
**Основные сущности:**
- **Кроссовки (`sneakers`)**
    - Название модели (обязательное поле)
    - Цена (фиксируется на момент добавления в корзину)
    - Тип (бег, треккинг, повседневные и т.д.)
    - Сезонность(Всесезонные, летние, зимние)
    - Состав материалов
    - Пол (`male`, `female`, `unisex`)
    - Описание
- **Размеры (`sneaker_sizes`)**
    - Доступные размеры (EU, US, UK в зависимости от модели)
    - Остаток на складе (`quantity`)
    - Автоматическое скрытие размера при `quantity = 0`

#### 2.2.2 Фильтрация и сортировка
**Фильтры:**
- **Базовые:**
    - По полу (`male`/`female`/`unisex`)
    - По цене (диапазон ₽)
    - По категории (беговые, баскетбольные и т.д.)
    - По типу поверхности (асфальт, трейл)
- **Расширенные:**
    - По бренду (если добавится в будущем)
    - По цвету (если добавится в будущем)
    - По наличию (`in_stock_only`)

**Сортировка:**
- По цене (↑ / ↓)
- По новизне (дата добавления)
- (Необязательно)По популярности (кол-во заказов)
#### 2.2.3 Карточка товара
**Основной блок:**
- Фотогалерея (1 фотография минимум)
- Название модели
- Цена
- Кнопка "Добавить в корзину" (неактивна, если нет в наличии)
**Вкладки:**
1. **Описание**
    - Детализация материалов
    - Особенности модели (амортизация, вес, вентиляция)
2. **Размеры**
    - Таблица размерной сетки (EU)
    - (Дополнительно)Подсказка: "Как выбрать размер?" (ссылка на гайд)
3. Интерактивные элементы
    - Выбор размера (радио-кнопки, только доступные)
    -  Счётчик количества (макс. = остаток на складе)
#### (Дополнительные сценарии)
- **Ошибки:**
    - Если размер в корзине стал недоступен – предупреждение перед оплатой.
- **SEO-оптимизация:**
    - ЧПУ-ссылки (`/sneakers/nike-air-max-90`).
    - Мета-теги для соцсетей (OpenGraph).
### 2.3 Корзина и заказы

#### 2.3.1 Добавление товаров в корзину

- **Выбор размера:**
    - Пользователь обязан выбрать размер перед добавлением в корзину.
    - Если размер не выбран – уведомить пользователя выбрать .
- **Ограничения по количеству:**
    - Максимальное количество одного товара = остаток на складе (`sneaker_sizes.quantity`).
    - При попытке добавить больше – ошибка: "Доступно только X пар".
    
- **Резервирование:**
    
    - Товар автоматически резервируется на **30 минут**.
    - Если пользователь не оформил заказ – резерв снимается.
#### 2.3.2 Управление корзиной
- Редактирование:
    - Изменение количества (с проверкой остатков).
    - Удаление товаров.
- Общая сумма:
    - Пересчитывается в реальном времени.
    - Учитывает возможные скидки (если добавлены).
- **Валидация:**
    - Если товар закончился – пометка "Нет в наличии" и предложение удалить его.
#### 2.3.3 Гостевая корзина
- Незарегистрированные пользователи могут добавлять товары.
- При переходе к оформлению заказа – принудительная регистрация/авторизация.
- После входа – товары из гостевой корзины переносятся в корзину пользователя.
#### 2.3.4 Этапы оформления

1. **Подтверждение корзины**
    - Список товаров с размерами и количеством.
    - Кнопка "Изменить" для возврата в корзину.
2. **Данные доставки**(в перспективе)
    - Обязательные поля:
        - ФИО (из профиля, но можно изменить).
        - Адрес (с подсказками через API СДЭК/Почты России).
        - Телефон (для связи с курьером).
    - Опционально:
        - Комментарий к заказу ("Не звонить, спросить у охраны").
3. **Оплата**(в перпективе)
    - Выбор способа:
        - Привязанная карта (если есть в профиле).
        - Новая карта (с сохранением в профиль).
    - Автоматическая проверка карты (Luhn algorithm).
    - Подтверждение оплаты через 3DSecure.
#### 2.3.5 Интеграции(В ПЕРСПЕКТИВЕ)
- Поддержка карт **Visa/Mastercard/МИР**.
- Эквайринг через **Тинькофф/Сбербанк**.
- Запрет оплаты с VPN/IP не из РФ.
- **СДЭК/Почта России** (расчет стоимости через API).
## 3. Описание системы
Система состоит и следующих блоков
1. Регистрация, аутентификация и авторизация
2. Главная страница
3. Карточки товаров
4. Корзина
5. Избранное
6. Вкладка оформления заказа
## 4.Типы пользователей
1. Авторизованный юзер
	Имеет доступ ко всему функционалу приложения, может просматривать товары, корзину, избранное, может оплачивать покупки,  
2. Неавторизованный юзер
	В отличии от авторизованного он может просматривать главную страницу, заполнять корзину.
## 5.Регистрация и Вход 

1. Для регистрации нужно нужна информация:
    - Имя
	- Почта
	- Пароль
	Все поля валидируются на корректность.
2. Вход для юзера
	- Логин
	- Пароль
	При входе происходит сверка с бд и потом вход
## 6. Сам сайт для Пользователей
### Главная страница(сокращение ГС)
Тут будут превью-карточек товаров, поисковая строка, "Избранное", кнопка оформления, кнопка корзины, кнопка каталога, фильтры. 
Кнопка корзины "Избранное", оформление. Находится сверху
Затем идёт поиск и фильтры.
Ниже - превью карточек в количестве 40-50 штук
При нажатии на превью карточки открывается страница с самой карточкой. Сами карточки достаются из бд.  
Поисковая строка ищет по названию без перехода на другую страницу.
Кнопка корзины -> корзина (выпадающая вкладка)
### Вкладка регистрации/авторизации
Поля высвечиваются в зависимости от типа пользователя.
### Карточка товара
На карточке товара изображено:
1. 1 фото товара.
2. Краткое описание и ключевые характеристики. Основные характеристики прописаны справа от фотки, остальное всё ниже.
3. Кнопки: «Купить», «Добавить в корзину», «Избранное»(хз). 
4. Выбор размера.
### Корзина
Здесь должно быть
1. Список товаров с возможностью удаления.
2. Расчет итоговой суммы.
### Вкладка оформления заказа
Здесь должно быть
1. Список заказа
2. Способ доставки
3. Промокод(как фичу можно рулетку с промокодами добавить)
4. Способ оплаты
5. Итоговая сумма

## 8. Технический стек

- **Фронтенд**: HTML/CSS, JavaScript (чистый JS или React.js для динамики).
    
- **Бэкенд**: Python (Django)
    
- **База данных**: PostgresSQL.
    
- **Хостинг**: Свой Сервер 